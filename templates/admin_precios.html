{% extends "base.html" %}

{% block title %}Gestión de Precios - {{ super() }}{% endblock %}

{% block content %}
<style>
    /* Estilos específicos para la tabla dark-mode */
    .table-dark {
        color: #e0e0e0;
        background-color: #1e1e1e; /* Color de fondo de la tarjeta */
    }
    .table-dark th {
        background-color: #2c2c2c;
        color: #FFC107;
        font-weight: 600;
        text-align: center;
        padding: 10px;
        border-bottom: 1px solid #444;
    }
    .table-dark td {
        padding: 10px;
        text-align: center;
        vertical-align: middle;
        border-bottom: 1px solid #333;
    }
    .table-dark.table-striped tbody tr:nth-of-type(odd) {
        background-color: #2a2a2a; /* Un poco más claro que el fondo de la tarjeta */
    }
    .table-dark.table-striped tbody tr:nth-of-type(odd) td {
        color: #ffffff;
    }
    .table-dark.table-hover tbody tr:hover {
        background-color: #383838;
    }
    .card-dark {
         background-color: #1e1e1e;
         border: 1px solid #333;
         border-radius: 12px;
         overflow: hidden; /* Para que la tabla respete los bordes redondeados */
    }
    .section-title {
        font-size: 1.75rem;
        font-weight: 600;
        color: #ffffff; /* Título blanco */
        margin-bottom: 20px;
    }
    .no-cost {
        color: #fd7e14; /* Naranja */
        font-style: italic;
        font-size: 0.9em;
    }
    /* Hacemos el body gris oscuro para que coincida con el tema */
    body {
        background-color: #121212;
    }
</style>

<div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-6">
    <div class="row mb-3">
        <div class="col-12">
            <h2 class="section-title">Listado de Placas y Costos</h2>
        </div>
    </div>
    
    <div class="card-dark shadow-lg">
        <div class="overflow-x-auto">
            <table class="w-full table-dark table-striped table-hover mb-0">
                <thead>
                    <tr>
                        <th class="px-4 py-3">Referencia (Placa)</th>
                        <th class="px-4 py-3">Ancho</th>
                        <th class="px-4 py-3">Alto</th>
                        <th class="px-4 py-3">Pinza</th>
                        <th class="px-4 py-3">Costo del Set</th>
                        <th class="px-4 py-3">Placas por Set</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in placas_con_costos %}
                        <tr>
                            <td>{{ item.referencia }}</td>
                            <td>{{ item.ancho }}</td>
                            <td>{{ item.alto }}</td>
                            <td>{{ item.pinza }}</td>
                            
                            {% if item.costo_set is not none %}
                                <td class="font-bold">
                                    {{ format_pen(item.costo_set) }}
                                </td>
                                <td>{{ item.placas_por_set }}</td>
                            {% else %}
                                <td colspan="2" class="no-cost">
                                    Sin costo asignado
                                </td>
                            {% endif %}
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="6" class="text-center py-4">
                                No hay placas registradas en la base de datos.
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}